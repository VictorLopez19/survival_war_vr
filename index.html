<!DOCTYPE html>
<html lang="es">

<head>
	<title>Survival War</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

	<!-- Enlace al archivo de estilos de Bootstrap 5 -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

	<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="./css/style.css">

	<!-- Font Awesome para los iconos -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

	<link type="text/css" rel="stylesheet" href="./css/main.css">
	<link rel="shortcut icon" href="./assets/img/icon.png" type="image/x-icon">
	<link rel="stylesheet" href="./css/style.css">
	<link rel="stylesheet" href="./css/boton.css">
</head>

<body class="d-flex flex-column" style="height: 100vh; margin: 0;">

	<!-- Barra de navegación -->
	<nav class="navbar navbar-dark bg-dark navbar-expand-lg py-3">
		<div class="container-fluid">
			<a class="navbar-brand text-white ms-2" href="#">
				<img src="./assets/img/icon.png" width="30" height="30" class="d-inline-block align-top" alt="">
				Survival War
			</a>

			<!-- Botón de colapso para pantallas pequeñas -->
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
				aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<!-- Contenedor de elementos del menú -->
			<div class="collapse navbar-collapse" id="navbarContent">
				<div class="ms-auto d-flex flex-column flex-lg-row align-items-lg-center">
					<!-- Botón Información -->
					<button class="btn btn-info mt-3 mt-lg-0 mb-2 mb-lg-0 me-lg-3 botones" data-bs-toggle="modal"
						data-bs-target="#modalInfo">
						<i class="fas fa-info-circle me-2"></i> Información
					</button>

					<!-- Botón Puntajes más altos -->
					<button class="btn btn-warning botones" data-bs-toggle="modal" data-bs-target="#modalPuntajes">
						<i class="fas fa-trophy me-2"></i> Puntajes más altos
					</button>
				</div>
			</div>
		</div>
	</nav>

	<!-- Modal Información -->
	<div class="modal fade" id="modalInfo" tabindex="-1" aria-labelledby="modalInfoLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="modalInfoLabel">Información</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body" id="informacion">
					<p>El objetivo del juego es sobrevivir el mayor tiempo posible evitando que los zombis te eliminen, mientras completas misiones que se activan cada minuto. Contarás con un arma para defenderte, pero las balas son limitadas, así que úsalas con inteligencia.</p>
	
					<h6>Controles:</h6>
					<ul>
						<li class="mb-1">
							<strong>Movimiento:</strong> Usa las teclas 
							<span class="badge rounded-pill bg-dark">A</span> (izquierda), 
							<span class="badge rounded-pill bg-dark">D</span> (derecha), 
							<span class="badge rounded-pill bg-dark">W</span> (adelante), 
							<span class="badge rounded-pill bg-dark">S</span> (atrás) y 
							<span class="badge rounded-pill bg-dark">Espacio</span> para saltar.
						</li>
						<li>
							<strong>Control de cámara:</strong> Usa el mouse para mirar a tu alrededor y ubicar a los enemigos.
						</li>
						<li>
							<strong>Disparo:</strong> Apunta con el mouse hacia el zombi y haz clic para disparar. Cuentas con una mira que te ayuda a apuntar mejor.
						</li>
					</ul>
	
					<h6>Reglas:</h6>
					<ul>
						<li>Empiezas con <span class="badge rounded-pill bg-dark">100</span> de fuerza.</li>
						<li>Cada ataque de un zombi reduce tu fuerza en <span class="badge rounded-pill bg-dark">10</span> puntos.</li>
						<li>Recibirás una nueva bala cada <span class="badge rounded-pill bg-dark">1.5 segundos</span>, pero no se acumulan si llegas al límite.</li>
						<li>Solo puedes tener un máximo de <span class="badge rounded-pill bg-dark">15</span> balas al mismo tiempo.</li>
					</ul>
	
					<h6>Sugerencias:</h6>
					<ul>
						<li>Elimina la mayor cantidad posible de zombis. ¡Tu puntaje se guarda y podrías llegar al top de jugadores!</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	

	<!-- Modal Puntajes Más Altos -->
	<div class="modal fade" id="modalPuntajes" tabindex="-1" aria-labelledby="modalPuntajesLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="modalPuntajesLabel">Puntajes más altos</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body" id="modalPuntajesBody">
					<!-- Los puntajes serán insertados aquí -->
				</div>
			</div>
		</div>
	</div>

	<!-- Modal para registrar el puntaje -->
    <div class="modal fade" id="modalRegistroPuntaje" tabindex="-1" aria-labelledby="modalRegistroPuntajeLabel"
        aria-hidden="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalRegistroPuntajeLabel">¡Felicidades!</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <p>Has logrado uno de los 5 mejores puntajes. Ingresa tu nombre para guardarlo.</p>
                    <input type="text" id="nombreJugador" class="form-control text-center mt-2" placeholder="Tu nombre"
                        maxlength="10">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="btnPuntaje">Guardar</button>
                </div>
            </div>
        </div>
    </div>

	<!-- Contenedor de Three.js que ocupará el espacio restante -->
	<div id="three-container">

		<div class="scoreboard">
			<div class="mision">
				<i class="fas fa-bullseye"></i>
				<div id="puntObje">
					0
				</div>
			</div>

			<div class="time" id="time">
				01:00
			</div>

			<div class="kills">
				<div id="puntTotal">
					0
				</div>

				<i class="fas fa-skull"></i>
			</div>
		</div>

		<div class="stats">
			<div id="bullets">
				<span id="noBalas">Munición 15/15</span>
				<div id="indBullets">
					<div id="progressBarBullets"></div>
				</div>
			</div>

			<div id="vida">
				<span id="fuerza">Fuerza 100/100</span>
				<div id="indVida">
					<div id="progressBarVida"></div>
				</div>
			</div>
		</div>

		<!-- Contenedor de carga con spinner y mensaje -->
		<div id="loadingMessage">
			<h1 class="game-title">Survival War</h1>
			<div class="spinner" id="spinner"></div>
			<p id="txtSpinner">Cargando ...</p>
		</div>
	</div>

	<div id="modalAlerta">
		<div class="icono">
			<i class="fas fa-bullseye"></i>
		</div>
		<div class="contenido">
			<div class="titulo">Nueva misión</div>
			<div class="descripcion" id="txtDescript">Debes de terminar con 10 Zombies</div>
		</div>
	</div>

	<!-- Footer -->
	<footer class="bg-dark text-white text-center py-2">
		<p class="pt-3">&copy; 2025. Todos los derechos reservados | Victor López</p>
	</footer>

	<script type="importmap">
			{
				"imports": {
					"three": "./build/three.module.min.js",
					"three/addons/": "./jsm/"
				}
			}
		</script>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
	<script type="module" src="./js/main.js"></script>
</body>

</html>